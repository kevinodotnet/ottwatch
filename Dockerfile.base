# 
# docker build -t ottwatch-base -f Dockerfile.base . 
# docker run -v `pwd`:/app -i -t ottwatch-base
#

# FROM ubuntu:latest
FROM debian:12.4-slim

RUN apt-get update && \
    DEBIAN_FRONTEND=noninteractive apt-get -y install \
        ruby-dev \
        less \
        curl \
        vim \
        sudo \
	libmariadb-dev-compat \
	libmariadb-dev \
	mariadb-server \
        git \
        rbenv \
        poppler-utils \
        imagemagick \
        libmagick++-dev

RUN groupadd -g 1000 -r app && \
    useradd -u 1000 --no-log-init -r -g app app && \
    mkdir /home/app && \
    chown app:app /home/app && \
    adduser app sudo

RUN gem install bundler
