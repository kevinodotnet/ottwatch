<div class="row-fluid">

<div class="span6">
<h1>Introduction</h1>
<p>OttWatch exposes several JSON/REST api pages to facilitate
application development by third-parties, including other
Apps4Ottawa contestants.</p>
<p>I'm comfortable handling the Mysql/GIS infrastructure
if you're comfortable handling the fancy mobile apps and 
use cases I didn't bother with.</p>
<p>There is lots of room in the world for more than one
solution. I only ask that you not abuse the API to the point
that it brings down my server. Let me know if a particular
dataset is missing, or a change in format would help you 
out.</p>
<h1>Updates and Authentication</h1>
<p>I will do my best to not break existing features when
updating the API - but no promises.</p>
<p>If you are using the API - please email me at
<u style="color: red;"><b>kevino@kevino.net</b></u> so I can let you know if I'm about to
break something.</p>
<p>Also: if usage gets crazy because just one person is
being abusive to the API I may need to put it behind
a username and password. So it's a good idea to email
me when you start using it so I can give you a heads
up if it ever comes to that.</p>

<h1>Widgets</h1>

<p><b>Find your ward</b> widget. Enter a postal code and the matching election ward will be displayed.</p>

<iframe style="width: 100%; height: 100px; border: 1px solid #c0c0c0;" src="http://ottwatch.ca/api/widget/findward"></iframe>

<pre>&lt;iframe style="width: 100%; height: 100px; border: 1px solid #c0c0c0;" src="http://ottwatch.ca/api/widget/findward"&gt;&lt;/iframe&gt;</pre>

</div>

<div class="span6">

<h1>Feed</h1>
<p>
As OttWatch publishes content the <i>feed</i> is updated.
</p>
<p>
<a href="feed">/feed/</a> shows the 10 most recent items.<br/>
<a href="feed/40">/feed/40</a> returns the most recent 40 items instead of the default 10.<br/>
<a href="feed/40">/feed/12/29</a> returns 12 items that are less than (before) item 29.
</p>
<p>
If after returning <i>count</i> items there are still more available (in reverse
chronological order) a <i>next</i> section is included. It repeats the <i>count</i>
value as well as the <i>id</i> that the next item will be <i>less than</i>. For
convenience, the full API <i>url</i> to use is created for you automatically:
<pre>"next":{
  "count":10,
  "before":29,
  "url":"http://ottwatch.ca/api/feed/10/29"
}
</pre>
</p>

<h1>Zoning</h1>
<p>
Given any lat/lon pair, returns the zoning in effect. You can also ask for the polygon of the
zoning boundary the point falls into (much larger datasize) by appending "?geometry=1"
</p>
<p>
<a href="zoning/45.38805220955885/-75.7432700492755">lat: 45.38805220955885 lon: -75.7432700492755</a><br/>
<a href="zoning/45.38805220955885/-75.7432700492755?geometry=1">lat: 45.38805220955885 lon: -75.7432700492755 with geometry</a>
</p>

<h1>Points</h1>
<p>
Given any lat/lon pair, returns information about the
point, such as containing ward and councillor information.
This is useful for GPS and Geolocation apps to start to 
learn where the user is.
</p><p>
<a href="point?lat=45.265309&lon=-75.777104">latitude 45.265309, longitude -75.777104</a>
</p>

<h1>Roads</h1>
<p>
Given a street number, name, and optional suffix (required when duplicate streetnames happen), returns 
information about the enclosing road segment from the "roadways" opendata.
</p><p>
<a href="roads/166/westhaven">166 Westhaven</a><br/>
<a href="roads/360/lisgar/st">360 Lisgar St</a><br/>
<a href="roads/360/lisgar/rd">360 Lisgar Rd</a> (there are two Lisgars in Ottawa, so suffix is mandatory)<br/>
</p>

<h1>Wards and Polls</h1>
<p>
Get a list of all ward numbers and names: 
<br/>
<a href="wards">All wards</a><br/>
<p>
Given a ward number, returns councillor information.
</p><p>
<a href="wards/5">Ward 5</a><br/>
<a href="wards/15">Ward 15</a><br/>
<p>
Given a ward number, return all poll numbers<br/>
<a href="wards/15/polls">Kitchissippi</a><br/>
<a href="wards/12/polls">Rideau-Vanier</a><br/>
</p>
Given a ward, poll and election year, return GIS polygon for the poll<br/>
<a href="wards/15/polls/2010/15-003.1">Kitchissippi</a><br/>
<a href="wards/12/polls/2010/12-013.2">A Rideau-Vanier poll</a><br/>
<br/>
Or view a live map:<br/>
<a href="wards/15/polls/2010/15-003.1/map/live">Kitchissippi</a><br/>
<a href="wards/12/polls/2010/12-013.2/map/live">A Rideau-Vanier poll</a><br/>
<br/>
Or view a static image on HTML page<br/>
<a href="wards/15/polls/2010/15-003.1/map/static">Kitchissippi</a><br/>
<a href="wards/12/polls/2010/12-013.2/map/static">A Rideau-Vanier poll</a><br/>
<br/>
Or link to the actual PNG, directly (suitable for downloading/saving)<br/>
<a href="wards/15/polls/2010/15-003.1/map/img">Kitchissippi</a><br/>
<a href="wards/12/polls/2010/12-013.2/map/img">A Rideau-Vanier poll</a><br/>
</p>
</p>

<h1>Committees</h1>
<p>
Returns information about all committees
</p><p>
<a href="committees">JSON about all committees</a>
</p>

<h1>Councillors</h1>
<p>
Given a last and first name, returns information about a councillor:
</p><p>
<a href="councillors/Harder/Jan">Harder, Jan</a><br/>
<a href="councillors/Chernushenko/David">Chernushenko, David</a>
</p>

<h1>Development Applications</h1>
<a href="devapps/all">All Development Applications (brief)</a><br/>
<a href="devapps/D02-02-12-0085">Specific Application (by "D" name)</a><br/>
<a href="devapps/__807E8U">Specific Application (by "_" underscore appid)</a><br/>

<h1>Lobbying</h1>
<a href="lobbying/all/csv">CSV of all lobbying activities</a><br/>

</div>

</div><!-- /row -->
